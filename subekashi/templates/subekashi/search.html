{% extends "subekashi/base/base.html" %}


{% load static %}
{% load song_card %}
{% load last_modified %}
{% block css %}{% static 'subekashi/css/search.css'%}{% endblock %}

{% block content %}
<section>
    <h1>曲の一覧と検索</h1>
    <div class="underline"></div>

    <div class="form-col">
        <label for="keyword">キーワード</label>
        <input type="text" id="keyword" value={{ request.GET.keyword }}>
    </div>
    <details id="isdetail" onclick="setSearchCookie(event)" {% if isdetail == "True" %}open{% endif %}>
        <summary>詳細検索</summary>
        <div class="form-col">
            <label for="title">タイトル</label>
            <input type="text" id="title" value={{ request.GET.title }}>
        </div>
        <div class="form-col">
            <label for="channel">チャンネル名</label>
            <input type="text" id="channel" value={{ request.GET.title }}>
        </div>
        <div class="form-col">
            <label for="lyrics">歌詞</label>
            <input type="text" id="lyrics" value={{ request.GET.title }}>
        </div>
        <div class="form-col">
            <label for="url">URL</label>
            <input type="text" id="url" value={{ request.GET.url }}>
        </div>
        <div class="form-col">
            <label for="songrange">界隈曲の種類</label>
            <select id="songrange" name="songrange">
                <option value="all" {% if songrange == 'all' %}selected{% endif %}>全て表示</option>
                <option value="subeana" {% if songrange == 'subeana' %}selected{% endif %}>すべあな界隈曲のみを表示</option>
                <option value="xx" {% if songrange == 'xx' %}selected{% endif %}>すべあな界隈曲以外を表示</option>
            </select>
        </div>
        <div class="form-col">
            <label for="jokerange">ネタ曲</label>
            <select id="jokerange" name="jokerange">
                <option value="on" {% if jokerange == 'on' %}selected{% endif %}>全て表示</option>
                <option value="only" {% if jokerange == 'only' %}selected{% endif %}>ネタ曲のみを表示</option>
                <option value="off" {% if jokerange == 'off' %}selected{% endif %}>ネタ曲のみを非表示</option>
            </select>
        </div>
        <div class="form-col">
            {% comment %} TODO 並び替え {% endcomment %}
            <label for="sort">並び替え</label>
            <select id="sort" name="sort">
                <option value="" {% if sort == '' %}selected{% endif %}></option>
                <option value="" {% if sort == '' %}selected{% endif %}></option>
                <option value="random" {% if sort == 'random' %}selected{% endif %}>ランダム</option>
            </select>
        </div>
        <div class="checkbox-col ml-none">
            <input type="checkbox" value="islack" id="islack" {% if islack %}checked{% endif %}>
            <label for="islack">作成途中</label>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" value="isdraft" id="isdraft" {% if isdraft %}checked{% endif %}>
            <label for="isdraft">下書き</label>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" value="isoriginal" id="isoriginal" {% if isoriginal %}checked{% endif %}>
            <label for="isoriginal">オリジナル模倣曲</label>
        </div>
        <div class="checkbox-col">
            <input type="checkbox" value="isinst" id="isinst" {% if isinst %}checked{% endif %}>
            <label for="isinst">インスト曲</label>
        </div>
    </details>
    <input type="submit" id="search-button" onclick="renderSearch()">検索</input>
    <div id="song-cards"></div>
</section>
{% endblock %}

{% block js %}
<script src="{% static 'subekashi/js/search.js' %}?{% get_last_modified %}"></script>
{% endblock %}
