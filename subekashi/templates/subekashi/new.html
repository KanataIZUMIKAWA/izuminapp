{% extends "subekashi/base/base.html" %}
{% block title %}曲の登録{% endblock %}
{% block ogtitle %}曲の登録{% endblock %}
{% load static %}
{% block css %}{% static 'subekashi/css/new.css'%}{% endblock %}

{% block content %}
<section>
    <h1> 曲の登録 </h1>
    <div class="underline"></div>
    <form action="{% url 'new' %}" method="POST" class="post-form">{% csrf_token %}
        <label>曲名*</label>
        <input type="text" id="title" name="title" oninput="checkExist()" value="{{ title }}"><br>
        <label>作者*</label>
        <input type="text" id="channel" name="channel" oninput="checkExist()" value="{{ channel }}"><br>
        <p id="isExist"></p>
        <button type="button" class="category " id="fillFormButton" onclick="fillForm()">下書きを自動入力</button>
        <label>URL</label>
        <input type="text" id="url" name="url" value="{{ url }}"><br>
        <label>模倣</label>
        <div id="imitate">
            <p>原曲から選択</p>
            <div id="categorys">
                <button type="button" class="category" onclick="appendCategory(0)">.模倣</button>
                <button type="button" class="category" onclick="appendCategory(1)">..模倣</button>
                <button type="button" class="category" onclick="appendCategory(2)">教育模倣</button>
                <button type="button" class="category" onclick="appendCategory(3)">アブジェ模倣</button>
                <button type="button" class="category" onclick="appendCategory(4)">...模倣</button>
                <button type="button" class="category" onclick="appendCategory(5)">表/裏模倣</button>
                <button type="button" class="category" onclick="appendCategory(6)">名の無い星模倣</button>
                <button type="button" class="category" onclick="appendCategory(7)">エヌ模倣</button>
                <button type="button" class="category" onclick="appendCategory(8)">K²模倣</button>
            </div>
            <p class="imitateP">もしくは模倣曲から選択</p>
            <div class="songGuesser">
                <input type="text" id="imitateTitle" oninput="searchSong()" placeholder="タイトルを入力"><br>
                {% for songIns in songInsL %}
                <div class="songGuess" id="{{ songIns.title }}" onclick="clickSong('{{ songIns.id }}')">
                    <p><span class="channel"><i class="fas fa-user-circle"></i> {{ songIns.channel }}</span> <i class="fas fa-music"></i> {{ songIns.title }}</p>
                </div>
                {% endfor %}
            </div>
            <div id="imitatelists"></div>
            <p class="imitateP">※複数入力ができます</p>
            <input type="text" id="imitates" name="imitates" hidden>
        </div>
        <label id="lyricslabel">歌詞</label>
        <textarea id="lyrics" name="lyrics" oninput="autotextarea()"></textarea><br>
        <div id="checkboxs">
            <input type="checkbox" id="isorginal" name="isorginal">
            <label onclick="divInput(0)">オリジナル模倣</label>
            <input type="checkbox" id="isdeleted" name="isdeleted">
            <label onclick="divInput(1)">削除済みの曲</label>
            <input type="checkbox" id="isjapanese" name="isjapanese" checked>
            <label onclick="divInput(2)">日本語の曲</label>
            <input type="checkbox" id="isjoke" name="isjoke">
            <label onclick="divInput(3)">ネタ曲</label><br>
            <input type="checkbox" id="isdraft" name="isdraft">
            <label onclick="divInput(4)">下書きとして投稿</label><br>
        </div>
        <input type="submit" value="登録" id="submit" disabled>
    </form>
    <p class="bottomelement">*がついているラベルは入力が必須です。</p>
    <p class="bottomelement">※入力は大文字・小文字・空白文字も区別されます。</p>
    <p class="bottomelement">※転載動画のURLの記載はお控えください。</p>
</section>
{% endblock %}

{% block js %}
<script src="{% static 'subekashi/js/newform.js' %}" rel="stylesheet"></script>
<script>
    window.addEventListener('load', firstLoad('{{ baseURL }}'));
</script>

{% endblock %}